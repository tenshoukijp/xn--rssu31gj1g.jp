%(hilight)s
<h2><i class="fa fa-cube fa-fw"></i>Lua ポータブル (REPL/インタプリタ/コンパイラ/リンカ 兼用) (cp932用)</h2>
<ul class="checklist">
    <li>
    <h3>概要</h3>
    <p>jLuaは当サイトの管理人がLua v5.1.5をカスタムしたものです。</p>
    <p>特徴としては、</p>
    <ul>
        <li>日本語版 Microsoft Windows上で使いやすいように、cp932(sjis)の対応が多く取られていること。
        <li>たった１つの実行ファイルで、<br>
        <ol>
            <li>対話型コンソール (REPL)</li>
            <li>インタプリタ (スクリプトや中間バイトコードを実行する)</li>
            <li>コンパイラー (１つ、あるいは、複数のスクリプトを、１つの中間バイトコードに変換する)</li>
            <li>リンカ (スクリプトもしくは中間バイトコードをexeにする)</li>
        </ol>
    </ul>
    <p>を兼ね備えること。</p>

    <li>
    <h3>ダウンロード</h3>
    <dl>
        <dt>
        <div class="download_file">DOWNLOAD ⇒ <a href="%(file)s">jLua</a> v.5.153ファイル。</div>
        </dt>
        <dd>
        <div class="update_time">└更新日 %(year)04d/%(mon)02d/%(mday)02d</div>
        </dd>
    </dl>
    <br>
    <li>
    <h3>シンタックス系のカスタム項目</h3>
    <p>シンタックス系のカスタム項目としては、<a href="?page=nobu_mod_the_snmod_methodref_lua_init">ScenarioMod/TSMod用のLuaインタプリタ</a> と同一です。</p>
    <li>
    <h3>コマンドライン系のカスタム項目</h3>
    <ul class="pointlist">
        <li>
        <h4>対話型コンソールとしての実行</h4>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe
    </pre></div>
        <li>
        <h4>スクリプト</b>としての実行</h4>
        (lua同じ引数が使えます)<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe ****.lua (他の引数)
    </pre></div>
        <li>
        <h4>コンパイラとしての実行</h4>
        全ての引数の一番後ろに「-compile」と付けてください。<br>
        (luacと同じ引数が使えます)<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe -o ****.out *****.lua -compile
    </pre></div>
        出力ファイル名を指定しない場合、luac.out という名前でファイルが出力されます。<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe *****.lua -compile
    </pre></div>
        コメント等を除去した状態で中間コードを生成する場合は、-sを付けます。<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jLua.exe -s -o ****.out *****.lua -compile
    </pre></div>
        <li>
        <h4>bin2cとしての実行</h4>
        中間コードを、C言語ソースへと貼り付け可能なソースコードとして出力します。<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jLua.exe *****.out -bin2c
    </pre></div>
        <li>
        <h4>リンカとしての実行</h4>
        全ての引数の一番後ろに「-link」と付けてください。<br>
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe ****.lua ****.exe -link
    </pre></div>
        もしくは、中間バイトコードをリンク
        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe ****.out ****.exe -link
    </pre></div>
        <li>
        <h4>例</h4>
        文字エンコード「CP932(Shift-JIS)」のファイルで、
        <div class="code"><pre class="brush:lua">
    for i, v in pairs({"表示", "ソート"}) do
        print(i, v)
    end
    </pre></div>
        というファイルをtest.luaというファイル名で用意。jLuaと同じディレクトリに保存します。<br>
        <br>
        コマンドプロンプトでjLuaのディレクトリまで移動した後、<br>

        <div class="code"><pre class="brush:ps" style="font-weight: bold">
    jlua.exe test.lua test.exe -link
    </pre></div>
        とすると、test.exeが出来上がります。<br>
        <br>
        このファイルは単体で実行可能であり、<br>
        他のファイル等への依存はありません。<br>
        <br>
    </ul>
</ul>
