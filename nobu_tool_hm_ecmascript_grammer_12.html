%(hilight)s
<h2><i class="fa fa-book fa-fw"></i>～文法メモ～ オブジェクト初期化、プロパティ</h2>

<ul class="checklist">
    <li>
    <h3>オブジェクトのプロパティの部分は[...]で囲んでおけば、「式」を書いても良い</h3>
    <p>以前なら、</p>
    <div class="code"><pre class="brush:js">

let i = 100;

let o = {
  ["foo" + "100"]: 10,
  ["bar" + 100]: 20,
  [i * i]: 30,
  [(x => x*x)(10)] : 50
};
hm.debuginfo(o);
</pre></div>
    <li>
    <h3>新たに追加されたオブジェクト初期化構文</h3>
    <p>以前なら、</p>
    <div class="code"><pre class="brush:js">
var a = "foo",
    b = 42,
    c = {};

var o = {
  a: a,
  b: b,
  c: c
};

hm.debuginfo(o) // {"a":"foo","b":42,"c":{}}
</pre></div>
    <p>とする必要があったところをES6では、</p>
    <div class="code"><pre class="brush:js">
var a = "foo",
    b = 42,
    c = {};

let o = { a, b, c }; // {"a":"foo","b":42,"c":{}}
hm.debuginfo(o)
</pre></div>
    <p>とすることが出来るようになりました。</p>
    <h3>関数も自然に定義出来る</h3>
    <p>以前なら</p>
    <div class="code"><pre class="brush:js">
let myobj = {
    yy : 10,
    mymethod : function(x) { return x + 1 }
}
hm.debuginfo(myobj.mymethod(100));
</pre></div>
    <p>とする必要があったところをES6では、</p>
    <div class="code"><pre class="brush:js">
let myobj = {
    yy : 10,
    mymethod(x) { return x + 1 }
}
hm.debuginfo(myobj.mymethod(100));
</pre></div>
<p>というように自然な記述で定義できます。</p>
    <h3>for...ofを利用した反復</h3>
    <div class="code"><pre class="brush:js">
let myobj = {
    yy : 10,
    mymethod(x) { return x + 1 }
}
hm.debuginfo(myobj.mymethod(100));
</pre></div>
    <p>と、自然に記述出来るようになりました。</p>
    <h3>C#のようなプロパティ(getter/setter)</h3>
    <p>ES6の新機能というわけではないですが、「オブジェクト」もしくは「クラス」にて<br>
    「C#のようなプロパティ(getter/setter)」を利用することが出来ます。<br>
    クラスについては、別ページで解説されています。<br>
    <div class="code"><pre class="brush:js">
let myobj = {
    get count() {
        return this._count;
    },

    set count(value) {
        this._count = value;
    }
}

myobj.count = 10;
hm.debuginfo(myobj.count);
myobj.count++;
hm.debuginfo(myobj.count);
</pre></div>
    <div class="code"><pre class="brush:js">
class MyObjClass {
    get count() {
        return this._count;
    }
    set count(value) {
        this._count = value;
    }
}

let myobj = new MyObjClass();
myobj.count = 10;
hm.debuginfo(myobj.count);
myobj.count++;
hm.debuginfo(myobj.count);
</pre></div>
</ul>
